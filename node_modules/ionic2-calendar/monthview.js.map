{"version":3,"file":"monthview.js","sourceRoot":"","sources":["../src/monthview.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, OnChanges, Input, Output, EventEmitter, SimpleChanges, ViewChild, TemplateRef } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\nimport { DatePipe } from '@angular/common';\nimport { Slides } from 'ionic-angular';\n\nimport { ICalendarComponent, IEvent, IMonthView, IMonthViewRow, ITimeSelected, IRange, CalendarMode, IDateFormatter } from './calendar';\nimport { CalendarService } from './calendar.service';\nimport { IMonthViewDisplayEventTemplateContext } from \"./calendar\";\n\n@Component({\n    selector: 'monthview',\n    template: `\n        <div>\n            <ion-slides #monthSlider [loop]=\"true\" [dir]=\"dir\" [spaceBetween]=\"spaceBetween\" (ionSlideDidChange)=\"onSlideChanged()\">\n                <ion-slide>\n                    <table *ngIf=\"0===currentViewIndex\" class=\"table table-bordered table-fixed monthview-datetable\">\n                        <thead>\n                        <tr>\n                            <th *ngFor=\"let dayHeader of views[0].dayHeaders\">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let row of [0,1,2,3,4,5]\">\n                            <td *ngFor=\"let col of [0,1,2,3,4,5,6]\" tappable (click)=\"select(views[0].dates[row*7+col])\"\n                                [ngClass]=\"getHighlightClass(views[0].dates[row*7+col])\">\n                                <ng-template [ngTemplateOutlet]=\"monthviewDisplayEventTemplate\"\n                                [ngTemplateOutletContext]=\"{view: views[0], row: row, col: col}\">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                    <table *ngIf=\"0!==currentViewIndex\" class=\"table table-bordered table-fixed monthview-datetable\">\n                        <thead>\n                        <tr class=\"text-center\">\n                            <th *ngFor=\"let dayHeader of views[0].dayHeaders\">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let row of [0,1,2,3,4,5]\">\n                            <td *ngFor=\"let col of [0,1,2,3,4,5,6]\">\n                                <ng-template [ngTemplateOutlet]=\"monthviewInactiveDisplayEventTemplate\"\n                                [ngTemplateOutletContext]=\"{view: views[0], row: row, col: col}\">\n                                </ng-template>\n                            </td>\n                        <tr>\n                        </tbody>\n                    </table>\n                </ion-slide>\n                <ion-slide>\n                    <table *ngIf=\"1===currentViewIndex\" class=\"table table-bordered table-fixed monthview-datetable\">\n                        <thead>\n                        <tr>\n                            <th *ngFor=\"let dayHeader of views[1].dayHeaders\">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let row of [0,1,2,3,4,5]\">\n                            <td *ngFor=\"let col of [0,1,2,3,4,5,6]\" tappable (click)=\"select(views[1].dates[row*7+col])\"\n                                [ngClass]=\"getHighlightClass(views[1].dates[row*7+col])\">\n                                <ng-template [ngTemplateOutlet]=\"monthviewDisplayEventTemplate\"\n                                [ngTemplateOutletContext]=\"{view: views[1], row: row, col: col}\">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                    <table *ngIf=\"1!==currentViewIndex\" class=\"table table-bordered table-fixed monthview-datetable\">\n                        <thead>\n                        <tr class=\"text-center\">\n                            <th *ngFor=\"let dayHeader of views[1].dayHeaders\">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let row of [0,1,2,3,4,5]\">\n                            <td *ngFor=\"let col of [0,1,2,3,4,5,6]\">\n                                <ng-template [ngTemplateOutlet]=\"monthviewInactiveDisplayEventTemplate\"\n                                [ngTemplateOutletContext]=\"{view: views[1], row: row, col: col}\">\n                                </ng-template>\n                            </td>\n                        <tr>\n                        </tbody>\n                    </table>\n                </ion-slide>\n                <ion-slide>\n                    <table *ngIf=\"2===currentViewIndex\" class=\"table table-bordered table-fixed monthview-datetable\">\n                        <thead>\n                        <tr>\n                            <th *ngFor=\"let dayHeader of views[2].dayHeaders\">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let row of [0,1,2,3,4,5]\">\n                            <td *ngFor=\"let col of [0,1,2,3,4,5,6]\" tappable (click)=\"select(views[2].dates[row*7+col])\"\n                                [ngClass]=\"getHighlightClass(views[2].dates[row*7+col])\">\n                                <ng-template [ngTemplateOutlet]=\"monthviewDisplayEventTemplate\"\n                                [ngTemplateOutletContext]=\"{view: views[2], row: row, col: col}\">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                    <table *ngIf=\"2!==currentViewIndex\" class=\"table table-bordered table-fixed monthview-datetable\">\n                        <thead>\n                        <tr class=\"text-center\">\n                            <th *ngFor=\"let dayHeader of views[2].dayHeaders\">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let row of [0,1,2,3,4,5]\">\n                            <td *ngFor=\"let col of [0,1,2,3,4,5,6]\">\n                                <ng-template [ngTemplateOutlet]=\"monthviewInactiveDisplayEventTemplate\"\n                                [ngTemplateOutletContext]=\"{view: views[2], row: row, col: col}\">\n                                </ng-template>\n                            </td>\n                        <tr>\n                        </tbody>\n                    </table>\n                </ion-slide>\n            </ion-slides>\n            <ng-template [ngTemplateOutlet]=\"monthviewEventDetailTemplate\"\n            [ngTemplateOutletContext]=\"{showEventDetail:showEventDetail, selectedDate: selectedDate, noEventsLabel: noEventsLabel}\">\n            </ng-template>\n        </div>\n    `,\n    styles: [`\n        .text-muted {\n          color: #999;\n        }\n\n        .table-fixed {\n          table-layout: fixed;\n        }\n\n        .table {\n          width: 100%;\n          max-width: 100%;\n          background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n          padding: 8px;\n          line-height: 20px;\n          vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n          vertical-align: bottom;\n          border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n          border-top: 0\n        }\n\n        .table > tbody + tbody {\n          border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n          border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n          border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n          border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n          background-color: #f9f9f9\n        }\n\n        .monthview-primary-with-event {\n          background-color: #3a87ad;\n          color: white;\n        }\n\n        .monthview-current {\n          background-color: #f0f0f0;\n        }\n\n        .monthview-selected {\n          background-color: #009900;\n          color: white;\n        }\n\n        .monthview-datetable td.monthview-disabled {\n            color: lightgrey;\n            cursor: default;\n        }\n\n        .monthview-datetable th {\n          text-align: center;\n        }\n\n        .monthview-datetable td {\n          cursor: pointer;\n          text-align: center;\n        }\n\n        .monthview-secondary-with-event {\n          background-color: #d9edf7;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n          display: none;\n        }\n    `]\n})\nexport class MonthViewComponent implements ICalendarComponent, OnInit, OnChanges {\n    @ViewChild('monthSlider') slider:Slides;\n\n    @Input() monthviewDisplayEventTemplate:TemplateRef<IMonthViewDisplayEventTemplateContext>;\n    @Input() monthviewInactiveDisplayEventTemplate:TemplateRef<IMonthViewDisplayEventTemplateContext>;\n    @Input() monthviewEventDetailTemplate:TemplateRef<IMonthViewDisplayEventTemplateContext>;\n\n    @Input() formatDay:string;\n    @Input() formatDayHeader:string;\n    @Input() formatMonthTitle:string;\n    @Input() eventSource:IEvent[];\n    @Input() startingDayMonth:number;\n    @Input() showEventDetail:boolean;\n    @Input() noEventsLabel:string;\n    @Input() autoSelect:boolean = true;\n    @Input() markDisabled:(date:Date) => boolean;\n    @Input() locale:string;\n    @Input() dateFormatter:IDateFormatter;\n    @Input() dir:string = \"\";\n    @Input() lockSwipeToPrev:boolean;\n    @Input() lockSwipes:boolean;\n    @Input() spaceBetween:number;\n\n    @Output() onRangeChanged = new EventEmitter<IRange>();\n    @Output() onEventSelected = new EventEmitter<IEvent>();\n    @Output() onTimeSelected = new EventEmitter<ITimeSelected>(true);\n    @Output() onTitleChanged = new EventEmitter<string>(true);\n\n    public views:IMonthView[] = [];\n    public currentViewIndex = 0;\n    public selectedDate:IMonthViewRow;\n    public range:IRange;\n    public mode:CalendarMode = 'month';\n    public direction = 0;\n\n    private moveOnSelected = false;\n    private inited = false;\n    private callbackOnInit = true;\n    private currentDateChangedFromParentSubscription:Subscription;\n    private eventSourceChangedSubscription:Subscription;\n    private formatDayLabel:(date:Date) => string;\n    private formatDayHeaderLabel:(date:Date) => string;\n    private formatTitle:(date:Date) => string;\n\n    constructor(private calendarService:CalendarService) {\n    }\n\n    ngOnInit() {\n        if (this.dateFormatter && this.dateFormatter.formatMonthViewDay) {\n            this.formatDayLabel = this.dateFormatter.formatMonthViewDay;\n        } else {\n            let dayLabelDatePipe = new DatePipe('en-US');\n            this.formatDayLabel = function (date:Date) {\n                return dayLabelDatePipe.transform(date, this.formatDay);\n            };\n        }\n\n        if (this.dateFormatter && this.dateFormatter.formatMonthViewDayHeader) {\n            this.formatDayHeaderLabel = this.dateFormatter.formatMonthViewDayHeader;\n        } else {\n            let datePipe = new DatePipe(this.locale);\n            this.formatDayHeaderLabel = function (date:Date) {\n                return datePipe.transform(date, this.formatDayHeader);\n            };\n        }\n\n        if (this.dateFormatter && this.dateFormatter.formatMonthViewTitle) {\n            this.formatTitle = this.dateFormatter.formatMonthViewTitle;\n        } else {\n            let datePipe = new DatePipe(this.locale);\n            this.formatTitle = function (date:Date) {\n                return datePipe.transform(date, this.formatMonthTitle);\n            };\n        }\n\n        if (this.lockSwipeToPrev) {\n            this.slider.lockSwipeToPrev(true);\n        }\n\n        if (this.lockSwipes) {\n            this.slider.lockSwipes(true);\n        }\n\n        this.refreshView();\n        this.inited = true;\n\n        this.currentDateChangedFromParentSubscription = this.calendarService.currentDateChangedFromParent$.subscribe(currentDate => {\n            this.refreshView();\n        });\n\n        this.eventSourceChangedSubscription = this.calendarService.eventSourceChanged$.subscribe(() => {\n            this.onDataLoaded();\n        });\n    }\n\n    ngOnDestroy() {\n        if (this.currentDateChangedFromParentSubscription) {\n            this.currentDateChangedFromParentSubscription.unsubscribe();\n            this.currentDateChangedFromParentSubscription = null;\n        }\n\n        if (this.eventSourceChangedSubscription) {\n            this.eventSourceChangedSubscription.unsubscribe();\n            this.eventSourceChangedSubscription = null;\n        }\n    }\n\n    ngOnChanges(changes:SimpleChanges) {\n        if (!this.inited) return;\n\n        let eventSourceChange = changes['eventSource'];\n        if (eventSourceChange && eventSourceChange.currentValue) {\n            this.onDataLoaded();\n        }\n\n        let lockSwipeToPrev = changes['lockSwipeToPrev'];\n        if (lockSwipeToPrev) {\n            this.slider.lockSwipeToPrev(lockSwipeToPrev.currentValue);\n        }\n\n        let lockSwipes = changes['lockSwipes'];\n        if (lockSwipes) {\n            this.slider.lockSwipes(lockSwipes.currentValue);\n        }\n    }\n\n    ngAfterViewInit() {\n        let title = this.getTitle();\n        this.onTitleChanged.emit(title);\n    }\n\n    onSlideChanged() {\n        if (this.callbackOnInit) {\n            this.callbackOnInit = false;\n            return;\n        }\n\n        let currentSlideIndex = this.slider.getActiveIndex(),\n            direction = 0,\n            currentViewIndex = this.currentViewIndex;\n\n        currentSlideIndex = (currentSlideIndex + 2) % 3;\n        if (currentSlideIndex - currentViewIndex === 1) {\n            direction = 1;\n        } else if (currentSlideIndex === 0 && currentViewIndex === 2) {\n            direction = 1;\n            this.slider.slideTo(1, 0, false);\n        } else if (currentViewIndex - currentSlideIndex === 1) {\n            direction = -1;\n        } else if (currentSlideIndex === 2 && currentViewIndex === 0) {\n            direction = -1;\n            this.slider.slideTo(3, 0, false);\n        }\n        this.currentViewIndex = currentSlideIndex;\n        this.move(direction);\n    }\n\n    move(direction:number) {\n        if (direction === 0) return;\n\n        this.direction = direction;\n        if (!this.moveOnSelected) {\n            let adjacentDate = this.calendarService.getAdjacentCalendarDate(this.mode, direction);\n            this.calendarService.setCurrentDate(adjacentDate);\n        }\n        this.refreshView();\n        this.direction = 0;\n        this.moveOnSelected = false;\n    }\n\n    createDateObject(date:Date):IMonthViewRow {\n        var disabled = false;\n        if (this.markDisabled) {\n            disabled = this.markDisabled(date);\n        }\n\n        return {\n            date: date,\n            events: [],\n            label: this.formatDayLabel(date),\n            secondary: false,\n            disabled: disabled\n        };\n    }\n\n    static getDates(startDate:Date, n:number):Date[] {\n        let dates = new Array(n),\n            current = new Date(startDate.getTime()),\n            i = 0;\n        current.setHours(12); // Prevent repeated dates because of timezone bug\n        while (i < n) {\n            dates[i++] = new Date(current.getTime());\n            current.setDate(current.getDate() + 1);\n        }\n        return dates;\n    }\n\n    getViewData(startTime:Date):IMonthView {\n        let startDate = startTime,\n            date = startDate.getDate(),\n            month = (startDate.getMonth() + (date !== 1 ? 1 : 0)) % 12;\n\n        let dates = MonthViewComponent.getDates(startDate, 42);\n        let days:IMonthViewRow[] = [];\n        for (let i = 0; i < 42; i++) {\n            let dateObject = this.createDateObject(dates[i]);\n            dateObject.secondary = dates[i].getMonth() !== month;\n            days[i] = dateObject;\n        }\n\n        let dayHeaders:string[] = [];\n        for (let i = 0; i < 7; i++) {\n            dayHeaders.push(this.formatDayHeaderLabel(days[i].date));\n        }\n        return {\n            dates: days,\n            dayHeaders: dayHeaders\n        };\n    }\n\n    getHighlightClass(date:IMonthViewRow):string {\n        let className = '';\n\n        if (date.hasEvent) {\n            if (date.secondary) {\n                className = 'monthview-secondary-with-event';\n            } else {\n                className = 'monthview-primary-with-event';\n            }\n        }\n\n        if (date.selected) {\n            if (className) {\n                className += ' ';\n            }\n            className += 'monthview-selected';\n        }\n\n        if (date.current) {\n            if (className) {\n                className += ' ';\n            }\n            className += 'monthview-current';\n        }\n\n        if (date.secondary) {\n            if (className) {\n                className += ' ';\n            }\n            className += 'text-muted';\n        }\n\n        if (date.disabled) {\n            if (className) {\n                className += ' ';\n            }\n            className += 'monthview-disabled';\n        }\n        return className;\n    }\n\n    getRange(currentDate:Date):IRange {\n        let year = currentDate.getFullYear(),\n            month = currentDate.getMonth(),\n            firstDayOfMonth = new Date(year, month, 1),\n            difference = this.startingDayMonth - firstDayOfMonth.getDay(),\n            numDisplayedFromPreviousMonth = (difference > 0) ? 7 - difference : -difference,\n            startDate = new Date(firstDayOfMonth.getTime());\n\n        if (numDisplayedFromPreviousMonth > 0) {\n            startDate.setDate(-numDisplayedFromPreviousMonth + 1);\n        }\n\n        let endDate = new Date(startDate.getTime());\n        endDate.setDate(endDate.getDate() + 42);\n\n        return {\n            startTime: startDate,\n            endTime: endDate\n        };\n    }\n\n    onDataLoaded() {\n        let range = this.range,\n            eventSource = this.eventSource,\n            len = eventSource ? eventSource.length : 0,\n            startTime = range.startTime,\n            endTime = range.endTime,\n            utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),\n            utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),\n            currentViewIndex = this.currentViewIndex,\n            dates = this.views[currentViewIndex].dates,\n            oneDay = 86400000,\n            eps = 0.0006;\n\n        for (let r = 0; r < 42; r += 1) {\n            if (dates[r].hasEvent) {\n                dates[r].hasEvent = false;\n                dates[r].events = [];\n            }\n        }\n\n        for (let i = 0; i < len; i += 1) {\n            let event = eventSource[i],\n                eventStartTime = new Date(event.startTime.getTime()),\n                eventEndTime = new Date(event.endTime.getTime()),\n                st:Date,\n                et:Date;\n\n            if (event.allDay) {\n                if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {\n                    continue;\n                } else {\n                    st = utcStartTime;\n                    et = utcEndTime;\n                }\n            } else {\n                if (eventEndTime <= startTime || eventStartTime >= endTime) {\n                    continue;\n                } else {\n                    st = startTime;\n                    et = endTime;\n                }\n            }\n\n            let timeDiff:number;\n            let timeDifferenceStart:number;\n            if (eventStartTime <= st) {\n                timeDifferenceStart = 0;\n            } else {\n                timeDiff = eventStartTime.getTime() - st.getTime();\n                if (!event.allDay) {\n                    timeDiff = timeDiff - (eventStartTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;\n                }\n                timeDifferenceStart = timeDiff / oneDay;\n            }\n\n            let timeDifferenceEnd:number;\n            if (eventEndTime >= et) {\n                timeDiff = et.getTime() - st.getTime();\n                if (!event.allDay) {\n                    timeDiff = timeDiff - (et.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;\n                }\n                timeDifferenceEnd = timeDiff / oneDay;\n            } else {\n                timeDiff = eventEndTime.getTime() - st.getTime();\n                if (!event.allDay) {\n                    timeDiff = timeDiff - (eventEndTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;\n                }\n                timeDifferenceEnd = timeDiff / oneDay;\n            }\n\n            let index = Math.floor(timeDifferenceStart);\n            while (index < timeDifferenceEnd - eps) {\n                dates[index].hasEvent = true;\n                let eventSet = dates[index].events;\n                if (eventSet) {\n                    eventSet.push(event);\n                } else {\n                    eventSet = [];\n                    eventSet.push(event);\n                    dates[index].events = eventSet;\n                }\n                index += 1;\n            }\n        }\n\n        for (let r = 0; r < 42; r += 1) {\n            if (dates[r].hasEvent) {\n                dates[r].events.sort(this.compareEvent);\n            }\n        }\n\n        if (this.autoSelect) {\n            let findSelected = false;\n            for (let r = 0; r < 42; r += 1) {\n                if (dates[r].selected) {\n                    this.selectedDate = dates[r];\n                    findSelected = true;\n                    break;\n                }\n            }\n\n            if (findSelected) {\n                this.onTimeSelected.emit({\n                    selectedTime: this.selectedDate.date,\n                    events: this.selectedDate.events,\n                    disabled: this.selectedDate.disabled\n                });\n            }\n        }\n    };\n\n    refreshView() {\n        this.range = this.getRange(this.calendarService.currentDate);\n\n        if (this.inited) {\n            let title = this.getTitle();\n            this.onTitleChanged.emit(title);\n        }\n        this.calendarService.populateAdjacentViews(this);\n        this.updateCurrentView(this.range.startTime, this.views[this.currentViewIndex]);\n        this.calendarService.rangeChanged(this);\n    }\n\n    getTitle():string {\n        let currentViewStartDate = this.range.startTime,\n            date = currentViewStartDate.getDate(),\n            month = (currentViewStartDate.getMonth() + (date !== 1 ? 1 : 0)) % 12,\n            year = currentViewStartDate.getFullYear() + (date !== 1 && month === 0 ? 1 : 0),\n            headerDate = new Date(year, month, 1, 12, 0, 0, 0);\n        return this.formatTitle(headerDate);\n    }\n\n    private compareEvent(event1:IEvent, event2:IEvent):number {\n        if (event1.allDay) {\n            return 1;\n        } else if (event2.allDay) {\n            return -1;\n        } else {\n            return (event1.startTime.getTime() - event2.startTime.getTime());\n        }\n    }\n\n    select(viewDate:IMonthViewRow) {\n        if (!this.views) return;\n\n        let selectedDate = viewDate.date,\n            events = viewDate.events;\n\n        if (!viewDate.disabled) {\n            let dates = this.views[this.currentViewIndex].dates,\n                currentCalendarDate = this.calendarService.currentDate,\n                currentMonth = currentCalendarDate.getMonth(),\n                currentYear = currentCalendarDate.getFullYear(),\n                selectedMonth = selectedDate.getMonth(),\n                selectedYear = selectedDate.getFullYear(),\n                direction = 0;\n\n            if (currentYear === selectedYear) {\n                if (currentMonth !== selectedMonth) {\n                    direction = currentMonth < selectedMonth ? 1 : -1;\n                }\n            } else {\n                direction = currentYear < selectedYear ? 1 : -1;\n            }\n\n            this.calendarService.setCurrentDate(selectedDate);\n            if (direction === 0) {\n                let currentViewStartDate = this.range.startTime,\n                    oneDay = 86400000,\n                    selectedDayDifference = Math.floor((selectedDate.getTime() - currentViewStartDate.getTime() - (selectedDate.getTimezoneOffset() - currentViewStartDate.getTimezoneOffset()) * 60000) / oneDay);\n\n                for (let r = 0; r < 42; r += 1) {\n                    dates[r].selected = false;\n                }\n\n                if (selectedDayDifference >= 0 && selectedDayDifference < 42) {\n                    dates[selectedDayDifference].selected = true;\n                    this.selectedDate = dates[selectedDayDifference];\n                }\n            } else {\n                this.moveOnSelected = true;\n                this.slideView(direction);\n            }\n        }\n\n        this.onTimeSelected.emit({selectedTime: selectedDate, events: events, disabled: viewDate.disabled});\n    }\n\n    slideView(direction:number) {\n        if (direction === 1) {\n            this.slider.slideNext();\n        } else if (direction === -1) {\n            this.slider.slidePrev();\n        }\n    }\n\n    updateCurrentView(currentViewStartDate:Date, view:IMonthView) {\n        let currentCalendarDate = this.calendarService.currentDate,\n            today = new Date(),\n            oneDay = 86400000,\n            selectedDayDifference = Math.floor((currentCalendarDate.getTime() - currentViewStartDate.getTime() - (currentCalendarDate.getTimezoneOffset() - currentViewStartDate.getTimezoneOffset()) * 60000) / oneDay),\n            currentDayDifference = Math.floor((today.getTime() - currentViewStartDate.getTime() - (today.getTimezoneOffset() - currentViewStartDate.getTimezoneOffset()) * 60000) / oneDay);\n\n        for (let r = 0; r < 42; r += 1) {\n            view.dates[r].selected = false;\n        }\n\n        if (selectedDayDifference >= 0 && selectedDayDifference < 42 && !view.dates[selectedDayDifference].disabled && (this.autoSelect || this.moveOnSelected)) {\n            view.dates[selectedDayDifference].selected = true;\n            this.selectedDate = view.dates[selectedDayDifference];\n        } else {\n            this.selectedDate = {\n                date: null,\n                events: [],\n                label: null,\n                secondary: null,\n                disabled: false\n            };\n        }\n\n        if (currentDayDifference >= 0 && currentDayDifference < 42) {\n            view.dates[currentDayDifference].current = true;\n        }\n    }\n\n    eventSelected(event:IEvent) {\n        this.onEventSelected.emit(event);\n    }\n}\n"]}